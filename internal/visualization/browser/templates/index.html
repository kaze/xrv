{{define "content"}}
<div class="container">
    <h1>XRV</h1>
    <p class="subtitle">Exchange Rate Visualizer - Interactive Mode</p>

    {{template "form" .}}

    <div id="loadingSpinner" class="htmx-indicator">
        <p>Loading visualization...</p>
    </div>

    <div id="chartContainer" style="min-height: 600px;">
        <div style="text-align: center; padding: 40px; color: #667eea;">
            <p>Select parameters and click "Visualize" to view exchange rate data</p>
        </div>
    </div>
</div>

<script>
    const today = new Date();
    const ninetyDaysAgo = new Date();
    ninetyDaysAgo.setDate(today.getDate() - 90);

    document.getElementById('to').valueAsDate = today;
    document.getElementById('from').valueAsDate = ninetyDaysAgo;

    window.addEventListener('load', function() {
        document.getElementById('vizForm').dispatchEvent(new Event('submit'));
    });
</script>
{{end}}
