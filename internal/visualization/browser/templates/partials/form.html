{{define "form"}}
<div class="form-section">
    <form id="vizForm"
          hx-post="/htmx/chart"
          hx-target="#chartContainer"
          hx-swap="innerHTML"
          hx-indicator="#loadingSpinner">
        <div class="form-grid">
            <div class="form-group">
                <label for="base">Base Currency</label>
                <select id="base" name="base" required>
                    <option value="">Loading currencies...</option>
                </select>
                <div class="hint">Currency to price against</div>
            </div>

            <div class="form-group">
                <label for="currencies">Target Currencies</label>
                <div class="custom-multi-select" id="currenciesSelectContainer">
                    <div class="multi-select-display" id="currenciesDisplay">
                        <span class="multi-select-placeholder">Loading currencies...</span>
                        <span class="multi-select-arrow">â–¼</span>
                    </div>
                    <div class="multi-select-dropdown" id="currenciesDropdown"></div>
                </div>
                <input type="hidden" id="currencies" name="currencies" required>
                <div class="hint">Click to select multiple currencies</div>
            </div>

            <div class="form-group">
                <label for="from">Start Date</label>
                <input type="date" id="from" name="from" required>
            </div>

            <div class="form-group">
                <label for="to">End Date</label>
                <input type="date" id="to" name="to" required>
            </div>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="invert" name="invert" value="true" checked>
            <label for="invert">Invert rates (show base currency value in target currencies)</label>
        </div>

        <button type="submit" class="submit-btn">Visualize</button>
    </form>
</div>
{{end}}
